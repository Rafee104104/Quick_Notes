var xe=Object.defineProperty;var Ie=(e,t,n)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var K=(e,t,n)=>Ie(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function O(){}function pe(e){return e()}function re(){return Object.create(null)}function S(e){e.forEach(pe)}function be(e){return typeof e=="function"}function De(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ee(e){return Object.keys(e).length===0}function d(e,t){e.appendChild(t)}function T(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode&&e.parentNode.removeChild(e)}function Pe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function ye(e){return document.createTextNode(e)}function B(){return ye(" ")}function L(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Be(e){return Array.from(e.childNodes)}function Ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function oe(e,t){e.value=t??""}let A;function N(e){A=e}function Le(){if(!A)throw new Error("Function called outside component initialization");return A}function Me(e){Le().$$.on_mount.push(e)}const M=[],se=[];let k=[];const ie=[],ke=Promise.resolve();let G=!1;function $e(){G||(G=!0,ke.then(_e))}function j(e){k.push(e)}const R=new Set;let C=0;function _e(){if(C!==0)return;const e=A;do{try{for(;C<M.length;){const t=M[C];C++,N(t),Ne(t.$$)}}catch(t){throw M.length=0,C=0,t}for(N(null),M.length=0,C=0;se.length;)se.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];R.has(n)||(R.add(n),n())}k.length=0}while(M.length);for(;ie.length;)ie.pop()();G=!1,R.clear(),N(e)}function Ne(e){if(e.fragment!==null){e.update(),S(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}function Oe(e){const t=[],n=[];k.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),k=t}const Ae=new Set;function Se(e,t){e&&e.i&&(Ae.delete(e),e.i(t))}function ce(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Te(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),j(()=>{const s=e.$$.on_mount.map(pe).filter(be);e.$$.on_destroy?e.$$.on_destroy.push(...s):S(s),e.$$.on_mount=[]}),o.forEach(j)}function je(e,t){const n=e.$$;n.fragment!==null&&(Oe(n.after_update),S(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ve(e,t){e.$$.dirty[0]===-1&&(M.push(e),$e(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Fe(e,t,n,r,o,s,i=null,g=[-1]){const u=A;N(e);const c=e.$$={fragment:null,ctx:[],props:s,update:O,not_equal:o,bound:re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:re(),dirty:g,skip_bound:!1,root:t.target||u.$$.root};i&&i(c.root);let a=!1;if(c.ctx=n?n(e,t.props||{},(m,_,...w)=>{const x=w.length?w[0]:_;return c.ctx&&o(c.ctx[m],c.ctx[m]=x)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](x),a&&Ve(e,m)),_}):[],c.update(),a=!0,S(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const m=Be(t.target);c.fragment&&c.fragment.l(m),m.forEach($)}else c.fragment&&c.fragment.c();t.intro&&Se(e.$$.fragment),Te(e,t.target,t.anchor),_e()}N(u)}class We{constructor(){K(this,"$$");K(this,"$$set")}$destroy(){je(this,1),this.$destroy=O}$on(t,n){if(!be(n))return O;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Ee(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ke="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ke);const H=(e,t)=>t.some(n=>e instanceof n);let ue,le;function Re(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ze(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J=new WeakMap,z=new WeakMap,V=new WeakMap;function Ue(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(D(e.result)),o()},i=()=>{r(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",i)});return V.set(t,e),t}function Ge(e){if(J.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});J.set(e,t)}let Q={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return J.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return D(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function we(e){Q=e(Q)}function He(e){return ze().includes(e)?function(...t){return e.apply(X(this),t),D(this.request)}:function(...t){return D(e.apply(X(this),t))}}function Je(e){return typeof e=="function"?He(e):(e instanceof IDBTransaction&&Ge(e),H(e,Re())?new Proxy(e,Q):e)}function D(e){if(e instanceof IDBRequest)return Ue(e);if(z.has(e))return z.get(e);const t=Je(e);return t!==e&&(z.set(e,t),V.set(t,e)),t}const X=e=>V.get(e);function Qe(e,t,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(e,t),g=D(i);return r&&i.addEventListener("upgradeneeded",u=>{r(D(i.result),u.oldVersion,u.newVersion,D(i.transaction),u)}),n&&i.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),g.then(u=>{s&&u.addEventListener("close",()=>s()),o&&u.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),g}const Xe=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],U=new Map;function ae(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(U.get(t))return U.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Ye.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Xe.includes(n)))return;const s=async function(i,...g){const u=this.transaction(i,o?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(g.shift())),(await Promise.all([c[n](...g),o&&u.done]))[0]};return U.set(t,s),s}we(e=>({...e,get:(t,n,r)=>ae(t,n)||e.get(t,n,r),has:(t,n)=>!!ae(t,n)||e.has(t,n)}));const Ze=["continue","continuePrimaryKey","advance"],fe={},Y=new WeakMap,ve=new WeakMap,qe={get(e,t){if(!Ze.includes(t))return e[t];let n=fe[t];return n||(n=fe[t]=function(...r){Y.set(this,ve.get(this)[t](...r))}),n}};async function*et(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,qe);for(ve.set(n,t),V.set(n,X(t));t;)yield n,t=await(Y.get(n)||t.continue()),Y.delete(n)}function de(e,t){return t===Symbol.asyncIterator&&H(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&H(e,[IDBIndex,IDBObjectStore])}we(e=>({...e,get(t,n,r){return de(t,n)?et:e.get(t,n,r)},has(t,n){return de(t,n)||e.has(t,n)}}));const tt="ToDoDB",F="ToDo",Z=Qe(tt,1,{upgrade(e){e.createObjectStore(F,{keyPath:"title"})}});async function nt(){return(await Z).getAll(F)}async function rt(e){return(await Z).put(F,e)}async function he(e){return(await Z).delete(F,e)}function ge(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function me(e){let t,n,r=e[12].title+"",o,s,i,g;function u(){return e[8](e[14])}return{c(){t=b("li"),n=b("button"),o=ye(r),y(n,"class",s=(e[14]===e[1]?"bg-dark-gray":"")+" py-2 px-3 text-dark-900 bg-violate-900 rounded-lg hover:bg-violate-820 svelte-19b27c4")},m(c,a){T(c,t,a),d(t,n),d(n,o),i||(g=L(n,"click",u),i=!0)},p(c,a){e=c,a&1&&r!==(r=e[12].title+"")&&Ce(o,r),a&2&&s!==(s=(e[14]===e[1]?"bg-dark-gray":"")+" py-2 px-3 text-dark-900 bg-violate-900 rounded-lg hover:bg-violate-820 svelte-19b27c4")&&y(n,"class",s)},d(c){c&&$(t),i=!1,g()}}}function ot(e){let t,n,r,o,s,i,g,u,c,a,m,_,w,x,f,I,q,ee,E,W,te,P=ce(e[0]),p=[];for(let l=0;l<P.length;l+=1)p[l]=me(ge(e,P,l));return{c(){t=b("aside"),n=b("div"),r=b("ul");for(let l=0;l<p.length;l+=1)p[l].c();o=B(),s=b("li"),i=b("button"),i.textContent="+ Add page",g=B(),u=b("main"),c=b("div"),a=b("h1"),m=B(),_=b("div"),w=b("button"),w.textContent="Save",x=B(),f=b("button"),f.textContent="Delete",I=B(),q=b("hr"),ee=B(),E=b("textarea"),y(i,"class","bg-red-600 text-white px-5 py-2.5 rounded-lg font-medium text-sm mt-3 hover:bg-red-700"),y(s,"class","text-center"),y(r,"class","space-y-2"),y(n,"class","bg-light-gray overflow-y-auto py-5 px-3 h-full border-r border-gray-200 svelte-19b27c4"),y(t,"class","fixed top-0 left-0 z-40 w-60 h-screen"),y(a,"class","text-3xl font-bold"),y(a,"contenteditable",""),e[2]===void 0&&j(()=>e[9].call(a)),y(w,"class","ml-auto bg-blue-700 text-white px-5 py-2.5 rounded-lg font-medium text-sm mt-3 hover:bg-blue-800"),y(f,"class","bg-green-600 text-white px-5 py-2.5 rounded-lg font-medium text-sm mt-3 ml-2 hover:bg-green-800"),y(_,"class","ml-auto flex space-x-"),y(c,"class","grid grid-cols-2 items-center mb-3"),y(E,"class","mt-3 block w-full bg-gray-50 border border-gray-300 rounded-lg text-gray-900 p-2.5"),y(u,"class","p-4 ml-60 h-auto")},m(l,v){T(l,t,v),d(t,n),d(n,r);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(r,null);d(r,o),d(r,s),d(s,i),T(l,g,v),T(l,u,v),d(u,c),d(c,a),e[2]!==void 0&&(a.textContent=e[2]),d(c,m),d(c,_),d(_,w),d(_,x),d(_,f),d(u,I),d(u,q),d(u,ee),d(u,E),oe(E,e[3]),W||(te=[L(i,"click",e[5]),L(a,"input",e[9]),L(w,"click",e[4]),L(f,"click",e[6]),L(E,"input",e[10])],W=!0)},p(l,[v]){if(v&131){P=ce(l[0]);let h;for(h=0;h<P.length;h+=1){const ne=ge(l,P,h);p[h]?p[h].p(ne,v):(p[h]=me(ne),p[h].c(),p[h].m(r,o))}for(;h<p.length;h+=1)p[h].d(1);p.length=P.length}v&4&&l[2]!==a.textContent&&(a.textContent=l[2]),v&8&&oe(E,l[3])},i:O,o:O,d(l){l&&($(t),$(g),$(u)),Pe(p,l),W=!1,S(te)}}}function st(e,t,n){let r=[],o=0,s="",i="";Me(async()=>{n(0,r=await nt()),r.length>0?(n(1,o=0),n(2,s=r[o].title),n(3,i=r[o].note)):u()});async function g(){const f=r[o].title;f!=s&&(await he(f),n(0,r[o].title=s,r)),n(0,r[o].note=i,r),await rt({title:s,note:i})}async function u(){r.push({title:"New Page",note:""}),m(r.length?r.length-1:0)}async function c(f){f===0&&u();const I=r[f].title;await he(I),r.splice(f,1),r.length===0?u():(f===o&&n(1,o=Math.max(f-1,0)),m(o))}async function a(){await c(o)}async function m(f){n(1,o=f);const I=r[o];n(2,s=I.title),n(3,i=I.note)}const _=f=>m(f);function w(){s=this.textContent,n(2,s)}function x(){i=this.value,n(3,i)}return[r,o,s,i,g,u,a,m,_,w,x]}class it extends We{constructor(t){super(),Fe(this,t,st,ot,De,{})}}new it({target:document.getElementById("app")});
